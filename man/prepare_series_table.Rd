% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_structure.R
\name{prepare_series_table}
\alias{prepare_series_table}
\title{Prepare ECB series metadata}
\usage{
prepare_series_table(series_key, con, schema = "platform")
}
\arguments{
\item{series_key}{Character. An ECB series key (e.g., "ICP.M.U2.N.000000.4.ANR").}

\item{con}{Database connection object.}

\item{schema}{Character. The database schema name. Default is "platform".}
}
\value{
A data frame with columns \code{series_title}, \code{series_code},
  \code{unit_id}, \code{table_id}, and \code{interval_id}. Returns \code{NULL}
  if the series already exists in the database.
}
\description{
Prepares series metadata for insertion into the database. Constructs the
series code from source, dataflow, dimension values, and interval, and
builds the series title from dimension level descriptions.
}
\details{
The series code is constructed as:
\code{source_name--dataflow_code--dimension_values--interval}

For example, "ICP.M.U2.N.000000.4.ANR" becomes:
"ECB--ICP--U2--N--000000--4--ANR--M"

The series title is constructed by combining dimension level descriptions
from the database, separated by " -- ". For example:
"Euro area -- Not seasonally adjusted -- Overall index -- Eurostat -- Annual rate of change"

The function assumes that table dimensions and dimension levels have already
been created via \code{\link{prepare_table_dimensions_table}} and
\code{\link{prepare_dimension_levels_table}}.
}
\examples{
\dontrun{
con <- DBI::dbConnect(...)

series_df <- prepare_series_table(
  series_key = "ICP.M.U2.N.000000.4.ANR",
  source_name = "ECB",
  con = con
)
}

}
\seealso{
\code{\link{prepare_table_table}}, \code{\link{prepare_dimension_levels_table}}
}
